#!/bin/bash

# David Selassie
# March 27, 2012
# cleancols

# Replaces whitespace on each line in a file with tabs.
# USAGE: cat IN | cleancols [NEW_DELIM] > OUT

DELIM=${1:-'\t'}
if [[ $(uname) == 'Darwin' ]]; then
    SED='sed -E'
else
    SED='sed -r'
fi

$SED -e 's/\s+/'"${DELIM}"'/g' -e 's/(\.[[:digit:]]{0,6})[[:digit:]]*/\1/g'
